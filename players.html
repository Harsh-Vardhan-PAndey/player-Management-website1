
<!DOCTYPE html>
<html>
    <head>
        <title>players</title>

        <link rel="stylesheet" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>

    <body>
        
        
 <header>

                

                    
        <nav class="navbar navbar-expand-lg bg-warning">
            <div class="container-fluid container">
                <a class="navbar-brand" href="index.html">Cricket Players Database</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav">
                        <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                        <a class="nav-link" href="#player">Players</a>
                        <a class="nav-link" href="report.html">Report</a>

                    </div>
                </div>
            </div>
        </nav>
</header>




        <section class="container mt-2">


 
            <div class="py-2">

                <label for="roleFilter">Filter By Role:</label>
                <select id="roleFilter">
                    <option value="All">All roles</option>
                    <option value="Batsman">Batsman</option>
                    <option value="Bowler">Bowler</option>
                </select>
            </div>

            <div class="py-2">
                <label for="countryFilter">Filter By Country:</label>
                <select id="countryFilter">
                    <option value="All">All Country</option>
                    <option value="India">India</option>
                    <option value="Australia">Australia</option>
                    <option value="England">England</option>
                </select>

            </div>

            <h2>Add Players</h2>

            <form id="">


                <div class="mb-2">

                    <!-- new point = required -->
                    <label for="playerName">Name:</label><br>
                    <input type="text"  id="playerName" required />

                </div>

                <div class="mb-2">

                    <label for="playerCountry">Country:</label><br>
                    <input type="text"  id="playerCountry" required />

                </div>
                <div class="mb-2">

                    <label for="playerRole">Role:</label><br>
                    <input type="text"  id="playerRole" required />   

                </div>

                <button id="addPlayerButton"  type="button" class="btn btn-warning mb-2">Add Player</button>
            </form>

            <section  class="mt-2">
                <div  id="playerList" class="row"></div>
            </section>

            
        </section>

        <script>

            const players = [
                {

                    id: 1, name: "MS Dhoni" ,  country: "India" , role:"Batsman"
                },
                {
 
                    id: 2, name: "Jaspreet Bumrah" ,  country: "India" , role:"Bowler"
                },
                {

                    id: 3, name: "Travis Head" ,  country: "Australia" , role:"Batsman"
                }
            ]

            const playerList = document.querySelector("#playerList")
            const addPlayerButton = document.querySelector("#addPlayerButton")
            const roleFilter = document.querySelector('#roleFilter')
            const countryFilter = document.querySelector("#countryFilter")


             function updatePlayerList(filteredPlayers){
                 
                // This line clears the existing content inside the HTML element
                 playerList.innerHTML = ""

                 for(let i = 0 ; i < filteredPlayers.length ; i++){
            

                const cols = document.createElement("div")
                // colum mediun size = 'cols-md-4'

                // new point = className 
                cols.className= 'col-md-4'

                const card = document.createElement("div")
                card.className = 'card mb-3'

                const cardHeader = document.createElement("div")
                cardHeader.className = 'card-header'
                const playerName = document.createElement("h2")
                playerName.innerHTML = ` ${filteredPlayers[i].name}`

                
                const cardBody = document.createElement("div")
                cardBody.className = 'card-body'


                const country = document.createElement("p")
                country.className = 'card-text'
                country.innerHTML = `<strong>Country: </strong> ${filteredPlayers[i].country}`

                const role = document.createElement("p")
                role.className = 'card-text'
                role.innerHTML = `<strong>Role:</strong> ${filteredPlayers[i].role}`

                const detailsLink = document.createElement("a")
                detailsLink.href = `playersDetail.html?id= ${filteredPlayers[i].id}`
                detailsLink.textContent = "Details"
                detailsLink.className = 'btn btn-warning'


                card.appendChild(cardHeader)
                cardHeader.appendChild(playerName)
                card.appendChild(cardBody)
                cardBody.appendChild(country)
                cardBody.appendChild(role)
                cardBody.appendChild(detailsLink)
                cols.appendChild(card)
                playerList.appendChild(cols)
        }

    }
            addPlayerButton.addEventListener("click", function(){

                

                const playerName = document.querySelector("#playerName").value
                const playerCountry = document.querySelector("#playerCountry").value
                const playerRole = document.querySelector("#playerRole").value
                


                if(playerName && playerCountry && playerRole){

                    const newPlayerId = players.length + 1
                    const newPlayer = {
                        id: newPlayerId ,
                        name: playerName, 
                        country: playerCountry,
                        role: playerRole
                    }

                    players.push(newPlayer)
                }
                
                
                updatePlayerList(players)
            })

            // Another method to write function.
            roleFilter.addEventListener("change",applyRoleFilter)

            function applyRoleFilter(){

                const selectedRole = roleFilter.value
            

              
                const filteredPlayers = []

                if(selectedRole !== "All"){

                for(let i=0 ; i<players.length; i++){
                   
                    if(players[i].role === selectedRole){
                
                        filteredPlayers.push(players[i])

                       
                    }
                    }
                   
                }

                
                 updatePlayerList(filteredPlayers)
                }

                countryFilter.addEventListener("change", applyCountryFilter)

                function applyCountryFilter(){


                    const selectedCountry =  countryFilter.value
                    
                    const filteredPlayers = []
                    
                    if(selectedCountry !== "All"){

                        for(let i=0; i < players.length ; i++){

                            if(players[i].country === selectedCountry){

                                filteredPlayers.push(players[i])
                            }

                        }


                    }

                    updatePlayerList(filteredPlayers)

                
                }
                

            updatePlayerList(players)

        </script>


 </body>
</html>